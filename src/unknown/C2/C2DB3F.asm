
UNKNOWN_C2DB3F:
	BEGIN_C_FUNCTION_FAR
	STACK_RESERVE_VARS
	END_STACK_VARS
	LDA UNKNOWN_7EADD0
	BEQ @UNKNOWN3
	LDA UNKNOWN_7EADD2
	SEC
	SBC #$0555
	STA UNKNOWN_7EADD2
	STORE_INT1632 @VIRTUAL0A
	MOVE_INT_CONSTANT $00006000, @VIRTUAL06
	CLC
	CMP32ALT @VIRTUAL06, @VIRTUAL0A
	BRANCHLTEQS @UNKNOWN2
	LDA #$6000
	STA UNKNOWN_7EADD2
	STZ UNKNOWN_7EADD0
@UNKNOWN2:
	SEP #PROC_FLAGS::INDEX8
	LDY #$0008
	LDA UNKNOWN_7EADD2
	JSL ASR8_UNKNOWN1
	JSR UNKNOWN_C2E08E
@UNKNOWN3:
	LDA UNKNOWN_7EADA8
	BEQ @UNKNOWN5
	LDA UNKNOWN_7EADA8
	DEC
	STA UNKNOWN_7EADA8
	AND #$0002
	BEQ @UNKNOWN4
	LDA #$FFFF
	JSR UNKNOWN_C2E08E
	BRA @UNKNOWN5
@UNKNOWN4:
	LDA #$0100
	JSR UNKNOWN_C2E08E
@UNKNOWN5:
	LDA UNKNOWN_7EADAA
	BEQ @UNKNOWN10
	STZ CUR_TEXT_PAL
	LDA UNKNOWN_7EADAA
	CMP #3
	BEQ @UNKNOWN6
	CMP #2
	BEQ @UNKNOWN7
	BRA @UNKNOWN8
@UNKNOWN6:
	LDA #$03E0
	STA CUR_TEXT_PAL
@UNKNOWN7:
	LDA #$0018
	JSL UNKNOWN_C0856B
@UNKNOWN8:
	LDA UNKNOWN_7EADAA
	DEC
	STA UNKNOWN_7EADAA
	AND #$0002
	BEQ @UNKNOWN9
	LDA #0
	JSR UNKNOWN_C2E08E
	BRA @UNKNOWN10
@UNKNOWN9:
	LDA #$0100
	JSR UNKNOWN_C2E08E
@UNKNOWN10:
	LDA VERTICAL_SHAKE_DURATION
	BNE @UNKNOWN11
	STZ UNKNOWN_7EAD98
	BRA @UNKNOWN12
@UNKNOWN11:
	LDA #1*SECOND
	SEC
	SBC VERTICAL_SHAKE_DURATION
	TAX
	SEP #PROC_FLAGS::ACCUM8
	LDA f:UNKNOWN_C4A591,X
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	STA UNKNOWN_7EAD98
	LDX VERTICAL_SHAKE_DURATION
	DEX
	STX VERTICAL_SHAKE_DURATION
	BNE @UNKNOWN12
	LDA VERTICAL_SHAKE_HOLD_DURATION
	BEQ @UNKNOWN12
	DEC VERTICAL_SHAKE_HOLD_DURATION
	LDA #1*SIXTH_OF_A_SECOND
	STA VERTICAL_SHAKE_DURATION
@UNKNOWN12:
	.I16
	STZ UNKNOWN_7EAD96
	LDA WOBBLE_DURATION
	BEQ @UNKNOWN13
	LDY #6*FIFTHS_OF_A_SECOND
	LDA WOBBLE_DURATION
	JSL MODULUS16
	DEC WOBBLE_DURATION
	LDY #72
	XBA
	AND #$FF00
	JSL DIVISION16S_DIVISOR_POSITIVE
	.I16
	TAX
	LDY #$0100
	SEP #PROC_FLAGS::ACCUM8
	LDA f:SINE_LOOKUP_TABLE,X
	REP #PROC_FLAGS::ACCUM8
	SEC
	AND #$00FF
	SBC #$0080
	EOR #$FF80
	ASL
	ASL
	ASL
	ASL
	ASL
	ASL
	JSL DIVISION16
	STA UNKNOWN_7EAD96
@UNKNOWN13:
	LDA SHAKE_DURATION
	BEQ @UNKNOWN17
	LDA SHAKE_DURATION
	AND #$0003
	DEC SHAKE_DURATION
	CMP #0
	BEQ @UNKNOWN14
	CMP #2
	BEQ @UNKNOWN14
	CMP #1
	BEQ @UNKNOWN15
	CMP #3
	BEQ @UNKNOWN16
	BRA @UNKNOWN17
@UNKNOWN14:
	STZ UNKNOWN_7EAD96
	BRA @UNKNOWN17
@UNKNOWN15:
	LDA #2
	STA UNKNOWN_7EAD96
	BRA @UNKNOWN17
@UNKNOWN16:
	LDA #$FFFE
	STA UNKNOWN_7EAD96
@UNKNOWN17:
	LDA LOADED_BG_DATA_LAYER1 + loaded_bg_data::bitdepth
	AND #$00FF
	CMP #2
	BNE @UNKNOWN18
	LDA UNKNOWN_7EAD96
	STA BG1_X_POS
	LDA UNKNOWN_7EAD98
	STA BG1_Y_POS
	BRA @UNKNOWN19
@UNKNOWN18:
	LDA BATTLE_MODE_FLAG
	BEQ @UNKNOWN19
	LDA UNKNOWN_7EAD96
	STA BG3_X_POS
	LDA UNKNOWN_7EAD98
	STA BG3_Y_POS
@UNKNOWN19:
	LDA UNKNOWN_7EAD90
	BEQ @UNKNOWN20
	DEC UNKNOWN_7EAD90
@UNKNOWN20:
	LDA BATTLE_MODE_FLAG
	BEQ @UNKNOWN21
	JSL UNKNOWN_C2F8F9
@UNKNOWN21:
	LDX #0
	LDA #.LOWORD(LOADED_BG_DATA_LAYER1)
	JSL GENERATE_BATTLEBG_FRAME
	LDY #.LOWORD(LOADED_BG_DATA_LAYER2)
	LDA __BSS_START__,Y
	AND #$00FF
	BEQ @UNKNOWN22
	LDX #1
	TYA
	JSL GENERATE_BATTLEBG_FRAME
@UNKNOWN22:
	JSL UNKNOWN_C2E6B6
	LDA RED_FLASH_DURATION
	BEQ @UNKNOWN24
	LDA RED_FLASH_DURATION
	DEC
	STA RED_FLASH_DURATION
	LDY #12
	JSL DIVISION16S_DIVISOR_POSITIVE
	AND #$0001
	BEQ @UNKNOWN23
	LDY #4
	LDX #0
	LDA #31
	JSL SET_COLDATA
	LDX #$003F
	LDA #0
	JSL SET_COLOUR_ADDSUB_MODE
	BRA @UNKNOWN24
@UNKNOWN23:
	LDY #0
	TYX
	TYA
	JSL SET_COLDATA
	LDA UNKNOWN_7EAD8A
	JSL UNKNOWN_C0AFCD
@UNKNOWN24:
	LDA GREEN_FLASH_DURATION
	BEQ @UNKNOWN26
	LDA GREEN_FLASH_DURATION
	DEC
	STA GREEN_FLASH_DURATION
	LDY #12
	JSL DIVISION16S_DIVISOR_POSITIVE
	AND #$0001
	BEQ @UNKNOWN25
	LDY #4
	LDX #31
	LDA #0
	JSL SET_COLDATA
	LDX #$003F
	LDA #0
	JSL SET_COLOUR_ADDSUB_MODE
	BRA @UNKNOWN26
@UNKNOWN25:
	LDY #0
	TYX
	TYA
	JSL SET_COLDATA
	LDA UNKNOWN_7EAD8A
	JSL UNKNOWN_C0AFCD
@UNKNOWN26:
	LDA HP_PP_BOX_BLINK_DURATION
	BEQ @UNKNOWN28
	LDA HP_PP_BOX_BLINK_DURATION
	DEC
	STA HP_PP_BOX_BLINK_DURATION
	LDY #3
	JSL DIVISION16S_DIVISOR_POSITIVE
	AND #$0001
	BEQ @UNKNOWN27
	LDA HP_PP_BOX_BLINK_TARGET
	JSL UNDRAW_HP_PP_WINDOW
	BRA @UNKNOWN28
@UNKNOWN27:
	LDA HP_PP_BOX_BLINK_TARGET
	JSL UNKNOWN_C207B6
@UNKNOWN28:
	JSL UNKNOWN_C4A7B0
	JSL UNKNOWN_C2FD99
	LDA UNKNOWN_7EADB6
	BEQ @UNKNOWN33
	LDA UNKNOWN_7EADB2
	BEQ @UNKNOWN33
	LDA UNKNOWN_7EADCC
	CMP #$03BB
	BCS @UNKNOWN29
	STZ UNKNOWN_7EADCC
	LDA #224
	STA UNKNOWN_7EADCE
	STZ UNKNOWN_7EADB6
	BRA @UNKNOWN30
@UNKNOWN29:
	LDA UNKNOWN_7EADCC
	SEC
	SBC #$03BB
	STA UNKNOWN_7EADCC
	LDA UNKNOWN_7EADCE
	CLC
	ADC #$03BB
	STA UNKNOWN_7EADCE
@UNKNOWN30:
	SEP #PROC_FLAGS::INDEX8
	LDY #8
	LDA UNKNOWN_7EADCC
	JSL ASR8_UNKNOWN1
	CMP UNKNOWN_7EADB2
	BCS @UNKNOWN31
	STA UNKNOWN_7EADB2
@UNKNOWN31:
	LDY #8
	LDA UNKNOWN_7EADCE
	JSL ASR8_UNKNOWN1
	CMP UNKNOWN_7EADB4
	BLTEQ @UNKNOWN32
	STA UNKNOWN_7EADB4
@UNKNOWN32:
	JSL UNKNOWN_C2D0AC
@UNKNOWN33:
	END_C_FUNCTION
