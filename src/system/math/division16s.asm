
;A = int16 divisor, Y = int16 dividend
DIVISION16S:
	.A16
	PHA
	TYA
	BPL @DIVIDEND_POSITIVE
	EOR #$FFFF
	INC
	TAY
@DIVIDEND_POSITIVE:
	PLA
	BPL DIVISION16S_DIVISOR_POSITIVE
	EOR #$FFFF
	INC
DIVISION16S_DIVISOR_POSITIVE:
	STA UNKNOWN_7E00B0
	STY UNKNOWN_7E00B2
	LDA #$0000
	LDY #$0010
@LOOP_BEGIN:
	ROL UNKNOWN_7E00B0
	ROL
	CMP UNKNOWN_7E00B2
	BCC @OVERFLOW
	SBC UNKNOWN_7E00B2
@OVERFLOW:
	DEY
	BNE @LOOP_BEGIN
	TAY
	LDA UNKNOWN_7E00B0
	ROL
	RTL
